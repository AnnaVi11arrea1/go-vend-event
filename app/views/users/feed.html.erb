<div
  data-controller="tabs"
  data-tabs-active-class="bg-gray-900 text-gray-100"
  data-tabs-default-tab-value="tab1"
>
  <!-- buttons to toggle between tabs -->
  <div class="d-flex justify-content-center">
    <button id="tab1" data-tabs-target="btn" data-action="click->tabs#select" class="event_btn">Feed</button>
    <button id="tab2" data-tabs-target="btn" data-action="click->tabs#select" class="event_btn">Discover</button>
  </div>

  <!-- the tabs -->
  <div data-tabs-target="tab" id="tab1" >
    <!-- partial this out to a partial -->
    <h2 class="d-flex justify-content-center darkcard intro">Discover events through people you follow.</h2>
    <% current_user.feed.each do |event| %>
      <div class="darkcard discover animate__animated animate__flipInX">
          <% if event.photo.present? %>
            <%= image_tag event.photo, class: "card-img" %>
          <% else %>
            <%= image_tag "bulb.png", class: "card-img" %>
          <% end %>
        <div class="card-body">
          <h3 class="card-title">Event Name: <%= event.name %></h3>
          <h4 class="card-title">Shared By: <%= event.host.username %></h4>
          <p class="card-text"><%= event.information %></p>
          <p class="card-text">Begins: <%= event.started_at.strftime("%B %d, %y") %></p>
          <%= link_to "View this event", event_path(event), class:"btn-pri" %>
          <hr>
          <p class="card-text"><small class="text-muted">Created <%= time_ago_in_words(event.created_at) %> ago</small></p>
        </div>
      </div>
    <% end %>
  </div>
  <!-- tab 2 is hidden by default, to prevent 'flashing in' -->
  <div data-tabs-target="tab" id="tab2" class='hidden'>
    <!-- partial this out to a partial -->
    <h2 class="d-flex justify-content-center darkcard intro">Discover new events!</h2>
    <% current_user.discovered.each do |newevent| %>
      <div class="darkcard discover animate__animated animate__flipInX">
        <% if newevent.photo.present? %>
          <%= image_tag newevent.photo, class: "card-img" %>
        <% else %>
          <%= image_tag "bulb.png", class: "card-img"%>
        <% end %>
        <div class="card-body">
          <h3 class="card-title">Event Name: <%= newevent.name %></h3>
          <h4 class="card-title">Shared By: <%= newevent.host.username %></h4>
          <p class="card-text"><%= newevent.information %></p>
          <p class="card-text">Begins: <%= newevent.started_at.strftime("%B %d, %y") %></p>
          <%= link_to "View this event", event_path(newevent), class:"btn-pri" %>
          <hr>
          <p class="card-text"><small class="text-muted">Created <%= time_ago_in_words(newevent.created_at) %> ago</small></p>
        </div>
      </div>
    <% end %>
  </div>
</div>
