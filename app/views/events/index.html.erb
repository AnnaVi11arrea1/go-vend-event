<p style="color: green"><%= notice %></p>

<h1 class="title">Search Events</h1>

    <gmp-map
      center="37.4220656,-122.0840897"
      zoom="10"
      map-id="DEMO_MAP_ID"
      style="height: 400px"
    ></gmp-map>

<div id="events" class="card">

<%= search_form_for @q do |f| %>

<div class="search pt-3 d-flex justify-content-center">
  <div>
    <%= f.label :name_cont %>
    <%= f.text_field :name_cont %>
  </div>
  <div class="search px-2">
    <%= f.label :started_at_gteq, "On or after " %>
    <%= f.date_field :started_at_gteq %>
  </div>
  <div class="search px-2">
    <%= f.submit %>
  </div>
  <div class="search px-2">
    <%= link_to "Clear", events_path %>
  </div>
  <% end %>
</div>


  <% @events.each do |event| %>
    <div class="d-flex ps-4 mb-2 mycard justify-content-between">
      <div class="row">
        <div class="col-6">
          <% if event.photo.present?%>
          <%= image_tag event.photo.url, alt:"profile pic", class:"profile-pic" %>
          <% end %>
          <strong>Name:</strong>
            <%= event.name %>
        </div>
        <div class="col-6">
          <p class="card-text"> 
            <strong>Where:</strong>
            <%= event.address %>
            <br>
            <strong>When:</strong>
            <%= event.started_at.strftime("%B %d, %Y") %></p>
            <%= link_to "Show this event", event, class:"btn btn-primary" %>
        </div>
      </div>
    </div>
  <% end %>
<div class="d-flex justify-content-around p-3">
  <%= paginate @events, :container => false %>
</div>
</div>
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&libraries=maps&v=beta"
      defer
    ></script>
